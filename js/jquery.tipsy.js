!function(t){function i(t){(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")}t.fn.tipsy=function(e){return e=t.extend({},t.fn.tipsy.defaults,e),this.each(function(){i(t(this));var s=t.fn.tipsy.elementOptions(this,e),a=null;t(this).hover(function(){var e=this;a=setTimeout(function(){t.data(e,"cancel.tipsy",!0);var a=t.data(e,"active.tipsy");a||(a=t('<div class="tipsy"><div class="tipsy-inner"/></div>'),a.css({position:"absolute",zIndex:1e5}),t.data(e,"active.tipsy",a)),i(t(e));var n;"string"==typeof s.title?n=t(e).attr("title"==s.title?"original-title":s.title):"function"==typeof s.title&&(n=s.title.call(e)),a.find(".tipsy-inner")[s.html?"html":"text"](n||s.fallback);var o=t.extend({},t(e).offset(),{width:e.offsetWidth,height:e.offsetHeight});a.get(0).className="tipsy",a.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var l=a[0].offsetWidth,f=a[0].offsetHeight,c="function"==typeof s.gravity?s.gravity.call(e):s.gravity;switch(c.charAt(0)){case"n":a.css({top:o.top+o.height,left:o.left+o.width/2-l/2}).addClass("tipsy-north");break;case"s":a.css({top:o.top-f,left:o.left+o.width/2-l/2}).addClass("tipsy-south");break;case"e":a.css({top:o.top+o.height/2-f/2,left:o.left-l}).addClass("tipsy-east");break;case"w":a.css({top:o.top+o.height/2-f/2,left:o.left+o.width}).addClass("tipsy-west")}s.fade?a.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:s.opacity}):a.css({visibility:"visible",opacity:s.opacity})},s.delayIn)},function(){t.data(this,"cancel.tipsy",!1);var i=this;clearTimeout(a),setTimeout(function(){if(!t.data(this,"cancel.tipsy")){var e=t.data(i,"active.tipsy");s.fade?e.stop().fadeOut(function(){t(this).remove()}):e&&e.remove()}},s.delayOut)})})},t.fn.tipsy.elementOptions=function(i,e){return t.metadata?t.extend({},e,t(i).metadata()):e},t.fn.tipsy.defaults={delayIn:0,delayOut:100,fade:!1,fallback:"",gravity:"n",html:!1,opacity:.8,title:"title"},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"}}(jQuery);